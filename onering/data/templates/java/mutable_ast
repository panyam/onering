
record Transformer {
    statements : list[Statement]
}

union Statement {
    VariableDeclaration
    ValueAssignment
    FieldSetter
    IfStatement
}

record IfStatement {
    condition : Expression
    body : list[Statement]
    otherwise : list[Statement]
}

record VariableDeclaration {
    varname : string
    vartype : Type
    initial_value : Expression ?
}

record ValueAssignment {
    varname : string
    value : Expression
}

record FieldSetter {
    source : Expression
    field_name : string
    value : Expression
}

union Expression {
    FunCall
    Literal
    Variable
    Getter
}

record FunCall {
    func_name : FQN
    arguments : list[Expression]
}

union Literal {
    Number,
    string,
    boolean
}

record Getter {
    source : Expression
    field_name : string
}
